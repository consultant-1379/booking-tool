<section>
  <div class="page-header">
    <h1>{{ vm.pageTitle }} Hardware '{{ vm.hardware.name }}'</h1>

  </div>
  <form name="form" ng-submit="vm.submitForm()">
    <fieldset>
      <div class="row row-relative">
        <!-- HARDWARE DETAILS -->
        <div>
          <div class="form-group has-feedback"
            ng-class="{ 'has-error': form.hardwareName.$invalid, 'has-success': form.hardwareName.$valid }">
            <label for="hardwareName">Name</label>
            <input class="form-control" type="text" id="hardwareName" name="hardwareName" placeholder="Name"
              ng-model="vm.hardware.name" ng-minlength="2" ng-maxlength="50" ng-pattern="/^[a-zA-Z0-9\-_.]*$/" required
              autofocus>
            <span class="glyphicon form-control-feedback"
              ng-class="{ 'glyphicon-remove': form.hardwareName.$invalid, 'glyphicon-ok': form.hardwareName.$valid }"></span>
            <span class="help-block" ng-messages="form.hardwareName.$error">
              <p ng-message="required">This field is required</p>
              <p ng-message="minlength">This must be at least of length 2</p>
              <p ng-message="maxlength">This must be at most of length 50</p>
              <p ng-message="pattern">This must only contain letters, numbers, dots, dashes and underscores</p>
            </span>
          </div>
          <div class="form-group has-feedback"
            ng-class="{ 'has-error': form.deploymentId.$invalid, 'has-success': form.deploymentId.$valid }">
            <label for="deploymentId">Deployment Id</label>
            <input class="form-control" type="text" id="deploymentId" name="deploymentId" placeholder="Name"
              ng-model="vm.hardware.hw_deployment_id" ng-minlength="2" ng-maxlength="50"
              ng-pattern="/^[a-zA-Z0-9\-_.]*$/" required>
            <span class="glyphicon form-control-feedback"
              ng-class="{ 'glyphicon-remove': form.deploymentId.$invalid, 'glyphicon-ok': form.hardwareName.$valid }"></span>
            <span class="help-block" ng-messages="form.deploymentId.$error">
              <p ng-message="required">This field is required</p>
              <p ng-message="minlength">This must be at least of length 2</p>
              <p ng-message="maxlength">This must be at most of length 50</p>
              <p ng-message="pattern">This must only contain letters, numbers, dots, dashes and underscores</p>
            </span>
          </div>
          <div class="form-group has-feedback"
            ng-class="{ 'has-error': form.hardwareUrl.$invalid, 'has-success': form.hardwareUrl.$valid }">
            <label for="hardwareUrl">URL</label>
            <input class="form-control" type="text" id="hardwareUrl" name="hardwareUrl" placeholder="URL"
              ng-model="vm.hardware.url" ng-pattern="vm.urlregex">
            <span class="glyphicon form-control-feedback"
              ng-class="{ 'glyphicon-remove': form.hardwareUrl.$invalid, 'glyphicon-ok': form.hardwareUrl.$valid }"></span>
            <span class="help-block" ng-messages="form.hardwareUrl.$error">
            <p ng-message="pattern">Hardware URL must be a valid URL</p>
            </span>
          </div>
          <!-- Program -->
          <div class="form-group has-feedback"
            ng-class="{ 'has-error': form['program-select'].$invalid, 'has-success': form['program-select'].$valid }">
            <label>Program</label>
            <select class="form-control" name="program-select" id="program-select" ng-model="vm.hardware.program_id"
              ng-options="program._id as program.name for program in vm.allPrograms"
              required>
              <option value="" disabled selected>--Select Program--</option>
            </select>
            <span class="glyphicon form-control-feedback"
              ng-class="{ 'glyphicon-remove': form['program-select'].$invalid, 'glyphicon-ok': form['program-select'].$valid }"></span>
            <span class="help-block" ng-messages="form['program-select'].$error">
              <p ng-message="required">This field is required</p>
            </span>
          </div>
        </div>
      </div>
    </fieldset>
    <div class="btn-group pull-left"
      title="{{form.$invalid || vm.formSubmitting ? 'Ensure all values are valid and required fields are filled in.' : ''}}">
      <button class="btn btn-primary" type="submit" ng-disabled="form.$invalid || vm.formSubmitting">Save</button>
    </div>
  </form>
</section>
